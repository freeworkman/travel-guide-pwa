# 🌍 全球旅遊嚮導 - AI 行程規劃應用

![版本](https://img.shields.io/badge/版本-3.0.0-blue)
![授權](https://img.shields.io/badge/授權-MIT-green)
![平台](https://img.shields.io/badge/平台-PWA%20%7C%20iOS%20%7C%20Android-brightgreen)
![更新日期](https://img.shields.io/badge/更新-2025年12月4日-orange)

一個功能完整的 **AI 驅動全球旅遊嚮導**，支援 PWA、iOS 和 Android。

---

## 🚀 快速開始（30 秒）

| 設備 | 步驟 |
|------|------|
| **📱 iOS** | Safari 打開網址 → 分享 → 加入主屏 |
| **🤖 Android** | Chrome 打開網址 → 點「安裝」 |
| **💻 電腦** | 直接訪問網址即可 |

**網址**: https://heartfelt-crumble-323cc4.netlify.app/

---

### 🌍 全球旅遊 AI 嚮導
**從 14 國 → 195+ 國的跨越**

```
使用者規劃行程
    ↓
AI 智能分析 → 識別所有涉及國家
    ↓
三層 Tips 源：
├─ 📚 內建數據庫 (14 國精選)
├─ 🤖 AI 增強版 (數據庫 + AI)
└─ ✨ AI 生成版 (195+ 動態)
    ↓
完整的旅遊建議
├─ 🛡️ 治安狀況
├─ 🤝 風土民情
├─ 🛂 出入境須知
├─ 💰 稅率與退稅
└─ ✨ 旅遊小貼士
```

**支援國家**
- ✅ 內建 14 國 (精心策劃的高質量數據)
- ✅ 195+ 動態國家 (AI 實時生成)
- ✅ 自動識別多國行程
- ✅ 每個國家獨立 Tips 區塊

### 🗜️ 優化行程分享
**壓縮 60-80%，分享更簡單**

```
舊方式：2000+ 字符 ❌
新方式：400-600 字符 ✅

分享時看到統計：
「行程資料碼已複製！
 壓縮後：1000 字符
 原始：4256 字符
 壓縮率：77%」
```

**技術細節**
- 🔧 LZ-String 壓縮算法
- 📊 實時顯示壓縮統計
- 🔄 100% 向後兼容
- ⚡ <10ms 壓縮/解壓

### 🤖 AI 行程規劃
- 使用 Google Gemini API 自動產生旅遊行程
- 支援多天行程規劃
- 智慧景點推薦
- **🌍 全球國家支援 (195+ 國家）**
  - 14 個內建國家數據
  - 180+ 個國家 AI 動態生成

### 💡 AI 旅遊貼心提示
- **智能國家識別** - 自動識別行程涉及的所有國家
- **多層 Tips 來源**
  - 📚 內建數據庫 (精選 14 國)
  - 🤖 AI 增強版 (數據庫 + AI 補充)
  - ✨ AI 生成版 (195+ 動態國家)
- **完整的旅遊信息**
  - 🛡️ 治安狀況
  - 🤝 風土民情
  - 🛂 出入境須知
  - 💰 稅率與退稅
  - ✨ 旅遊小貼士

### 🗺️ 互動地圖
- 高精度 Leaflet 地圖整合
- 即時景點標記和路線規劃
- 一鍵導航功能
- 搜尋地點後直接加入行程

### 📊 智慧工具
- ✅ 即時天氣查詢
- ✅ 匯率動態轉換
- ✅ 行程編輯和保存
- ✅ 雲端備份（Firebase）
- ✅ 行程景點上下移動和刪除
- ✅ 地圖景點直接加入行程

### 📱 跨平台支援
- ✅ **iOS PWA** - Safari 打開即可安裝
- ✅ **Android PWA** - Chrome/Edge 一鍵安裝
- ✅ **離線模式** - Service Worker 快取
- ✅ **自動更新** - 背景同步

### 💾 資料管理
- 本地儲存行程
- Firebase 雲端備份
- **🗜️ 優化行程資料碼** (壓縮 60-80%)
  - 使用 LZ-String 壓縮
  - 從 2000+ 字符 → 400-600 字符
  - 分享統計顯示壓縮效果
  - 100% 向後兼容
- 行程分享和匯入
- LINE 直接分享

---

## 🚀 快速開始

### 線上使用（推薦）

#### iOS 用戶
1. 用 **Safari** 打開：
   ```
   https://heartfelt-crumble-323cc4.netlify.app/
   ```
2. 點「分享」→「加入主屏幕」
3. 完成！App 已安裝 ✨

#### Android 用戶
1. 用 **Chrome/Edge** 打開：
   ```
   https://heartfelt-crumble-323cc4.netlify.app/
   ```
2. 點右上角「安裝」按鈕
3. 完成！App 已安裝 ✨

#### 電腦用戶
直接訪問：
```
https://heartfelt-crumble-323cc4.netlify.app/
```

---

## 📋 檔案結構

```
travel_plan/
├── Index.html                      # 主應用（包含所有 HTML/CSS/JS）
├── manifest.json                   # PWA 設定檔
├── sw.js                          # Service Worker（離線支援）
├── _redirects                     # Netlify 路由設定
├── README.md                      # 本說明文件
├── package.json                   # Node.js 套件設定
├── .env.example                   # 環境變數範本
└── 各種教程.md                    # 部署和使用指南
```

---

## 🔧 功能詳解

### 1️⃣ AI 行程規劃
```
設定 Google Gemini API Key → 輸入旅遊偏好 → AI 自動產生行程
```

**支援功能：**
- 多日行程自動規劃
- 景點基本資訊和描述
- 交通方式和預估費用
- 天氣和貼心提示

### 2️⃣ 地圖互動
- 點擊景點直接導航
- 查看完整路線規劃
- 放大/縮小地圖
- 自適應手機螢幕
- **搜尋地點後加入行程**
- **在地圖上點選地點後加入行程**

### 3️⃣ 行程管理
- **景點上下移動**：滑鼠移到景點卡片時出現控制按鈕
- **刪除景點**：點擊刪除按鈕立即移除
- **自動保存**：所有變更自動儲存到本地
- **直接切換日期**：在總表行程中點選地點後直接切換到該日的行程地點

### 4️⃣ 天氣預報（7 日）
- **全程天氣概況**：一鍵查看整個行程的 7 日天氣預報
- **每日詳細天氣**：溫度、天氣狀況、降水機率
- **智慧天氣圖示**：晴、雲、雨、雪等視覺化表示
- **實時更新**：基於出發地城市自動獲取最新數據

### 5️⃣ 資料持久化
- **本地儲存**：LocalStorage + Service Worker
- **雲端備份**：Firebase Firestore（選用）
- **離線支援**：首次訪問快取資源
- **API Key 記憶**：首次貼入後自動保存，無需重複輸入

### 6️⃣ 分享功能
- 📤 複製行程資料碼分享給朋友
- 📱 LINE 直接分享
- 💾 Email 備份
- 🔗 Safari 即時連結

---

## 🛠️ 技術棧

| 技術 | 用途 |
|------|------|
| **HTML/CSS/JS** | 前端開發 |
| **Tailwind CSS** | UI 設計框架 |
| **Leaflet** | 互動地圖 |
| **Google Gemini API** | AI 行程規劃 & 動態 Tips |
| **Firebase** | 雲端儲存（可選） |
| **Service Worker** | 離線支援 |
| **LZ-String** | 資料碼壓縮 |

---

## 📡 部署架構

```
GitHub Repository
    ↓
Netlify （自動部署）
    ↓
Live PWA
    ↓
用戶訪問 / 安裝 App
```

### 自動部署流程 ✅

**你只需要更新 GitHub，Netlify 會自動部署！**

1. **在 GitHub 修改檔案**
   - 編輯 HTML、CSS、JS 等
   - 推送更改（git push）

2. **Netlify 自動偵測**
   - 10-30 秒內自動部署
   - 無需手動操作

3. **用戶自動更新**
   - Service Worker 檢測新版本
   - 打開 App 時自動更新
   - 無需重新安裝

---

## 🔑 API 設定

### Google Gemini API（可選）

1. **取得 API Key**
   - 前往：https://aistudio.google.com/app/apikey
   - 點「Create API key」
   - 複製 Key（以 `AIza` 開頭）

2. **在應用中輸入**
   - 點「連結 AI」按鈕
   - 貼入 API Key
   - 點「確認連結」

3. **開始規劃**
   - 輸入旅遊偏好
   - 點「出發！」
   - AI 自動生成行程

### Firebase（可選）

如果想用雲端備份：

1. **建立 Firebase 項目**
   - 去 console.firebase.google.com
   - 建立新項目

2. **設定 Firestore**
   - 建立資料庫
   - 設定安全規則

3. **配置應用**
   - 複製 Firebase 配置
   - 注入應用代碼

---

## 📱 PWA 優勢

| 功能 | PWA | 網站 | 原生應用 |
|------|-----|-----|-----------|
| 安裝到主螢幕 | ✅ | ❌ | ✅ |
| 全螢幕顯示 | ✅ | ❌ | ✅ |
| 離線使用 | ✅ | ❌ | ✅ |
| 一鍵部署 | ✅ | ✅ | ❌ |
| 自動更新 | ✅ | ✅ | ❌ |
| 無需下載 | ✅ | ✅ | ❌ |

---

## 🌐 跨平台相容性

| 平台 | 瀏覽器 | 支援度 |
|------|--------|--------|
| **iOS** | Safari | ✅✅✅ 完美 |
| **Android** | Chrome | ✅✅✅ 完美 |
| **Android** | Edge | ✅✅✅ 完美 |
| **桌面** | Chrome/Edge/Firefox | ✅✅✅ 完美 |

---

## 💡 使用提示

### 🎯 保存行程
```
點「儲存」按鈕 → 行程保存到本地
```

### 📤 分享行程
```
點「分享」→「複製行程資料碼」 → 分享給朋友
朋友點「行程」→「匯入」 → 貼入代碼 → 完成
```

### 🗺️ 查看路線
```
選擇 Day → 地圖自動顯示路線
點擊景點 → 地圖自動導航到該位置
點「搜尋地點」→ 搜尋後加入行程
```

### 🌡️ 查看天氣
```
點「天氣」按鈕 → 查看全程天氣預報
```

### 💱 匯率轉換
```
點匯率 → 自動切換反向匯率
```

### 🎮 編排行程
```
滑鼠移到景點卡片 → 出現上移/下移/刪除按鈕
點擊按鈕 → 立即執行，自動保存
```

---

## 🚀 後續升級計畫

### 🟢 PWA（已完成）
- ✅ 跨平台 Web 應用
- ✅ 無需下載
- ✅ 自動更新

### 🟡 Apache Cordova（計畫中）
- 🔄 上架 App Store（需 $99/年）
- 🔄 上架 Google Play（需 $25）
- 🔄 原生性能優化

### 🔴 Flutter（計畫中）
- 🔄 最佳性能
- 🔄 官方維護支持
- 🔄 豐富 UI 組件

---

## 📝 更新日誌

### v3.0.0 (2025-12-04) ⭐ 全球系統升級
- ✅ **🌍 全球國家支援** - 從 14 國 → 195+ 國
  - AI 動態偵測行程中的所有國家
  - 內建國家用精選數據庫
  - 動態國家 AI 實時生成
- ✅ **💡 AI 旅遊貼心提示** - 三層 Tips 來源
  - 📚 數據庫版 (14 國精選)
  - 🤖 AI 增強版 (數據庫 + AI)
  - ✨ AI 生成版 (195+ 動態)
- ✅ **🗜️ 行程資料碼壓縮** - 60-80% 壓縮率
  - LZ-String 壓縮算法
  - 2000+ 字符 → 400-600 字符
  - 顯示壓縮統計信息
  - 完全向後兼容

### v2.2.0 (2025-12-03)
- ✅ **7 日天氣預報** - 全程天氣概況快速查看
- ✅ 行程景點上下移動和刪除功能
- ✅ 地圖搜尋地點後加入行程
- ✅ 總表行程直接切換到該日的行程地點
- ✅ 行程與地圖的手機版 UI 優化
- ✅ API Key 首次輸入後自動記憶
- ✅ 手機版按鈕尺寸最佳化

### v2.0.0 (2025-12-02)
- ✅ 地圖搜尋功能整合
- ✅ 行程編輯功能優化
- ✅ 移動設備友善版面
- ✅ Header 和導航欄改進

### v1.0.0 (2024-12-02)
- ✅ 初始版本發佈
- ✅ PWA 部署完成
- ✅ iOS/Android 支援
- ✅ AI 行程規劃功能
- ✅ 地圖和天氣功能

---

## 🤝 貢獻指南

### 如何貢獻

1. **Fork 本專案**
2. **建立新分支**
   ```bash
   git checkout -b feature/amazing-feature
   ```
3. **提交更改**
   ```bash
   git commit -m 'Add amazing feature'
   ```
4. **推送分支**
   ```bash
   git push origin feature/amazing-feature
   ```
5. **提交 Pull Request**

### 報告 Bug

發現問題？請提交 Issue：
- 描述問題
- 提供截圖/視頻
- 說明重現步驟

---

## 📚 文檔

### 核心功能文檔
- 📖 [全球國家動態 Tips 系統](./GLOBAL_SUPPORT_SYSTEM.md) - 195+ 國家支援
- 📖 [行程資料碼壓縮指南](./COMPRESSION_GUIDE.md) - 60-80% 壓縮率
- 📖 [改進完成報告](./COMPRESSION_IMPLEMENTATION.md) - 技術詳解
- 📖 [改進日誌](./IMPROVEMENTS_LOG.md) - 功能演進
- 📖 [修復總結](./HOTFIX_SUMMARY.md) - 問題解決

### 部署與使用指南
- 📖 [PWA 部署指南](./PWA部署指南.md)
- 📖 [Netlify 網址查找教程](./Netlify網址查找教程.md)
- 📖 [Netlify 部署診斷指南](./Netlify部署診斷指南.md)
- 📖 [iOS APP 轉換指南](./iOS_APP_轉換指南.md)
- 📖 [Android PWA 安裝指南](./Android_PWA安裝指南.md)

---

## ⚖️ 許可證

本項目採用 **MIT License** - 詳見 [LICENSE](LICENSE) 檔案

---

## 🙏 致謝

感謝以下開源項目：
- [Leaflet](https://leafletjs.com/) - 互動地圖
- [Tailwind CSS](https://tailwindcss.com/) - UI 框架
- [FontAwesome](https://fontawesome.com/) - 圖標庫
- [Google Gemini API](https://ai.google.dev/) - AI 功能
- [Firebase](https://firebase.google.com/) - 雲端服務

---

## 📞 聯繫方式

- 💬 提交 Issue
- 📧 Email：your@email.com
- 🐦 Twitter：@yourhandle

---

## 🎉 分享

如果你喜歡這個項目，請給個 ⭐ Star！

```
🌍 分享給朋友：
https://heartfelt-crumble-323cc4.netlify.app/
```

---

## 📊 統計

- ⏱️ **開發時間**: ~180 小時
- 🎨 **UI 組件**: 25+
- 📍 **地點支援**: 無限
- 🌍 **支援國家**: 195+ (14 內建 + 180+ 動態)
- 💾 **資料壓縮率**: 60-80%
- 🌍 **支援語言**: 繁體中文
- 📱 **平台**: iOS + Android + Desktop
- 📅 **最後更新**: 2025 年 12 月 4 日

---

## 🎯 核心特色對比

| 功能 | v2.2.0 | v3.0.0 |
|------|--------|--------|
| **支援國家** | 14 | **195+** ✨ |
| **Tips 來源** | 1 種 | **3 種** |
| **資料碼長度** | 2000+ 字符 | **400-600 字符** ✨ |
| **國家識別** | 靜態列表 | **AI 動態** ✨ |
| **多國行程** | ❌ | **✅** |
| **壓縮統計** | ❌ | **✅** |

---

## ❓ 常見問題

### Q: 需要付費嗎？
**A:** 完全免費！只需要免費的 Google Gemini API Key（可選）

### Q: 離線可以用嗎？
**A:** 可以！第一次打開後會快取資源，支援離線查看和編輯

### Q: 支持多少個國家？
**A:** 195+ 個國家！
- 14 個內建國家（精選數據）
- 180+ 個動態國家（AI 生成）

### Q: 行程資料怎麼分享？
**A:** 複製行程資料碼（已壓縮 75%），朋友粘貼導入即可

### Q: 數據安全嗎？
**A:** 很安全！
- 主要存儲在本地（LocalStorage）
- 可選 Firebase 雲端備份
- 無需登錄
- 無第三方追踪

### Q: 需要什麼配置？
**A:** 無需配置，打開即用！
- 可選：Google Gemini API Key（AI 行程規劃）
- 可選：Firebase（雲端備份）

---

## 🎮 使用提示

### 💡 Tips 功能使用
```
1. 規劃行程後點「貼心提示」
2. 系統自動識別所有國家
3. 查看完整的旅遊建議
4. 來源標記讓你知道信息來源
```

### 📤 分享行程
```
1. 點「分享」→「複製行程資料碼」
2. 看到壓縮統計（例如：75% 壓縮率）
3. 複製短代碼分享給朋友
4. 朋友「匯入行程」→ 粘貼代碼 → 完成
```

### 🌍 發現全球景點
```
1. 在地圖上搜尋地點
2. 點擊結果加入行程
3. 系統自動生成 Tips
4. 查看當地旅遊建議
```

---

<div align="center">

**🌍 任何行程、任何國家、AI 智能提示 🌍**

**Made with ❤️ for travelers worldwide**

[⬆ 回到頂部](#-全球旅遊嚮導---ai-行程規劃應用)

</div>


